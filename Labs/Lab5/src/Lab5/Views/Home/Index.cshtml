@model IEnumerable<Lab5.Models.Photo>

<html>
<head>
    <title>Lab 5, File Uploads</title>
    <link rel="stylesheet" href="~/css/StyleSheet.css" />
</head>
<body>
    <div style="width: 1000px; margin-left: auto; margin-right: auto;">
        <h1>Lab 5, File Uploads</h1>
    </div>
    <hr />
    <div style="width: 1000px; margin-left: auto; margin-right: auto;">
        <a href="/">Home</a> | <a href="~/Questions.html">Questions for Lab 5</a>
    </div>
    <hr />
    <div style="width: 1000px; margin-left: auto; margin-right: auto;">

        <h2>Upload File</h2>
        <div>
            <form asp-controller="Home" asp-action="UploadFile" enctype="multipart/form-data">
                <input type="file" name="files" multiple /> <button name="upload">Upload Now</button>
            </form>
        </div>
        <br />
        <br />
        <h2>Currently Uploaded Images</h2>

        @if (Model == null || Model.Count() == 0)
        {
            <p>There are no files to display.</p>
        }
        else
        {
            <table>
                @foreach (var photo in Model)
                {
                    <tr>
                        <td style="vertical-align: top; min-width: 100px;">
                            <a onclick="return confirm('Are you sure you want to delete this image?');" asp-action="DeleteFile" asp-route-id="@photo.PhotoId">Delete</a>
                        </td>
                        <td style="vertical-align: top">
                            <img src="@photo.Url" style="width: 850px;" />
                            <br />
                            <br />
                            @photo.FileName
                        </td>
                    </tr>
                            <tr>
                                <td colspan="2">
                                    <hr />
                                </td>
                            </tr>
                }
            </table>
        }
    </div>
    <br />
    <br />
    <hr />
    <footer style="width: 1000px; margin-left: auto; margin-right: auto; font-weight: bold;">
        By Peter Gani &copy; 2018
    </footer>
</body>
</html>